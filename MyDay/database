-- Create Table: ACCOUNT

CREATE TABLE myday.ACCOUNT
(
	`ACCOUNT_ID` INT NOT NULL AUTO_INCREMENT
	,PRIMARY KEY (ACCOUNT_ID)
	,`NICKNAME` VARCHAR(30)  NULL 
	,`FIRST_NAME` VARCHAR(50)  NULL 
	,`LAST_NAME` VARCHAR(50)  NULL 
	,`AVATAR` VARCHAR(250)  NULL 
)
ENGINE=INNODB;



-- Create Table: LOGIN

CREATE TABLE myday.LOGIN
(
	`ACCOUNT_ID` INT NOT NULL 
	,`USERNAME` VARCHAR(30)  NULL 
	,`PASSWORD` VARCHAR(30)  NULL 
	,`CREATED` DATETIME  NULL 
	,`LAST_VISITED` DATETIME  NULL 
)
ENGINE=INNODB;



-- Create Table: COMMENTS

CREATE TABLE myday.COMMENTS
(
	`COMMENT_ID` INT NOT NULL 
	,PRIMARY KEY (COMMENT_ID)
	,`POST_ID` INT  NULL 
	,`AUTHOR` INT  NULL
	,`BODY` VARCHAR(300)  NULL 
	,`CREATED` DATETIME  NULL 
)
ENGINE=INNODB;



-- Create Table: POSTS

CREATE TABLE myday.POSTS
(
	`POST_ID` INT NOT NULL AUTO_INCREMENT
	,PRIMARY KEY (POST_ID)
	,`TITLE` VARCHAR(250)  NULL 
	,`CREATED` DATETIME  NULL 
	,`LAST_MODIFIED` DATETIME  NULL 
	,`AUTHOR` INT  NULL 
	,`BODY` VARCHAR(1000)  NULL 
)
ENGINE=INNODB;



-- Create Table: VISITORS

CREATE TABLE myday.VISITORS
(
	`VISITOR_ID` INT NOT NULL AUTO_INCREMENT
	,PRIMARY KEY (VISITOR_ID)
	,`URL` VARCHAR(250)  NULL 
	,`ACCOUNT_ID` INT  NULL 
	,`FROM` VARCHAR(250)  NULL 
	,`TIME_VISITED` DATETIME  NULL 
)
ENGINE=INNODB;



-- Create Foreign Key: COMMENTS.AUTHOR -> ACCOUNT.ACCOUNT_ID
ALTER TABLE myday.COMMENTS ADD FOREIGN KEY (AUTHOR) REFERENCES ACCOUNT(ACCOUNT_ID);


-- Create Foreign Key: POSTS.AUTHOR -> ACCOUNT.ACCOUNT_ID
ALTER TABLE myday.POSTS ADD FOREIGN KEY (AUTHOR) REFERENCES ACCOUNT(ACCOUNT_ID);


-- Create Foreign Key: COMMENTS.POST_ID -> POSTS.POST_ID
ALTER TABLE myday.COMMENTS ADD FOREIGN KEY (POST_ID) REFERENCES POSTS(POST_ID);


-- Create Foreign Key: VISITORS.ACCOUNT_ID -> ACCOUNT.ACCOUNT_ID
ALTER TABLE myday.VISITORS ADD FOREIGN KEY (ACCOUNT_ID) REFERENCES ACCOUNT(ACCOUNT_ID);


-- Create Foreign Key: LOGIN.ACCOUNT_ID -> ACCOUNT.ACCOUNT_ID
ALTER TABLE myday.LOGIN ADD FOREIGN KEY (ACCOUNT_ID) REFERENCES ACCOUNT(ACCOUNT_ID);


